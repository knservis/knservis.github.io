<script src='https://aladin.cds.unistra.fr/AladinLite/api/v3/latest/aladin.js' charset='utf-8'></script>

<script>
var aladin;
A.init.then(() => {
    aladin = A.aladin('#aladin-lite-div', {target: '0 +0', cooFrame: 'j2000d', fov: 180, showFrame: false, showLayersControl: true, showGotoControl: false, fullScreen: true});
    aladin.setImageSurvey('CDS/P/Earth/BlueMarble');
    

    var c = document.createElement('canvas'); c.width = c.height = 11; var ctx = c.getContext('2d'); ctx.beginPath(); ctx.arc(5, 5, 4, 0, 2 * Math.PI, false); ctx.closePath(); ctx.strokeStyle = '#ccc'; ctx.lineWidth = 2; ctx.stroke();

    var landingSites = A.catalog({sourceSize: 16}); 
    
    aladin.addCatalog(landingSites);
    
    for (let i = 0; i < 10; i++) {
        const z = 2 * Math.random() - 1;

        // Calculate latitude in radians
        const latitudeRad = Math.asin(z);

        // Generate a random angle for longitude between 0 and PI (180 degrees in radians)
        const longitudeRad = Math.random() * Math.PI;

        // Convert radians to degrees
        const latitudeDeg = latitudeRad * (180 / Math.PI);
        const longitudeDeg = longitudeRad * (180 / Math.PI) + 90;
        
        landingSites.addSources([A.marker(longitudeDeg, latitudeDeg, {popupTitle: 'Fireball #1657641', popupDesc: ''})]);
    }
    const order = 6; // NSIDE=64
    const nPix = 12 * Math.pow(2, 2 * order);
    const ipix = Array.from({length: nPix/2}, (_, i) => i * 2);
    var json = {};
    json[order.toString()] = ipix;
    var moc = A.MOCFromJSON(json, {opacity: 0.25, color: 'magenta', lineWidth: 3, edge: true});
    aladin.addMOC(moc);
    const ipix2 = Array.from({length: nPix/2}, (_, i) => (i * 2) + 1);
    var json2 = {};
    json2[order.toString()] = ipix2;
    var moc2 = A.MOCFromJSON(json2, {opacity: 0.25, color: 'magenta', lineWidth: 3, edge: true});
    aladin.addMOC(moc2);
});
</script> 

<div id='aladin-lite-div' style='width: 500px; height: 500px;'></div>